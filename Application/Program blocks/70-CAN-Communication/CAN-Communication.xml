<?xml version="1.0" encoding="utf-8"?>
<Document>
  <Engineering version="V17" />
  <DocumentInfo>
    <Created>2025-06-26T06:49:06.6848965Z</Created>
    <ExportSetting>WithDefaults</ExportSetting>
    <InstalledProducts>
      <Product>
        <DisplayName>Totally Integrated Automation Portal</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>TIA Portal Openness</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </OptionPackage>
      <OptionPackage>
        <DisplayName>TIA Portal Version Control Interface</DisplayName>
        <DisplayVersion>V17</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>STEP 7 Professional</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>STEP 7 Safety</DisplayName>
        <DisplayVersion>V17 Update 6</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>WinCC Advanced</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
    </InstalledProducts>
  </DocumentInfo>
  <SW.Blocks.FB ID="0">
    <AttributeList>
      <AutoNumber>true</AutoNumber>
      <HeaderAuthor />
      <HeaderFamily />
      <HeaderName />
      <HeaderVersion>0.1</HeaderVersion>
      <Interface><Sections xmlns="http://www.siemens.com/automation/Openness/SW/Interface/v5">
  <Section Name="Input" />
  <Section Name="Output" />
  <Section Name="InOut">
    <Member Name="CAN-IDs_ToSend" Datatype="Array[0..74] of Int" Accessibility="Public" />
  </Section>
  <Section Name="Static">
    <Member Name="SendBusy" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="UseFixedPoint" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">Send data on CAN as fixed point</MultiLanguageText></Comment></Member>
    <Member Name="Memory" Datatype="DInt" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="CycleCheck" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="TESTUINT_CTRL" Datatype="UInt" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">false</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">false</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">false</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="TESTUINT_SEND" Datatype="UInt" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="TESTUINT_RCV" Datatype="UInt" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="TOF_SendError" Datatype="TOF_TIME" Version="1.0" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">true</BooleanAttribute></AttributeList><Sections><Section Name="None"><Member Name="PT" Datatype="Time" /><Member Name="ET" Datatype="Time" /><Member Name="IN" Datatype="Bool" /><Member Name="Q" Datatype="Bool" /></Section></Sections></Member>
    <Member Name="CountSendAll" Datatype="UDInt" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList></Member>
    <Member Name="ScaleFactor" Datatype="Real" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">Fixed point scale factor</MultiLanguageText></Comment><StartValue>1000.0</StartValue></Member>
  </Section>
  <Section Name="Temp">
    <Member Name="i" Datatype="Int" />
    <Member Name="UpperBound" Datatype="DInt" />
    <Member Name="NumberOfFrames" Datatype="SInt" />
    <Member Name="TestUint" Datatype="UInt" />
  </Section>
  <Section Name="Constant" />
</Sections></Interface>
      <IsIECCheckEnabled>false</IsIECCheckEnabled>
      <IsRetainMemResEnabled>false</IsRetainMemResEnabled>
      <MemoryLayout>Optimized</MemoryLayout>
      <MemoryReserve>100</MemoryReserve>
      <Name>CAN-Communication</Name>
      <Number>8</Number>
      <ProgrammingLanguage>FBD</ProgrammingLanguage>
      <SetENOAutomatically>false</SetENOAutomatically>
      <UDABlockProperties />
      <UDAEnableTagReadback>false</UDAEnableTagReadback>
    </AttributeList>
    <ObjectList>
      <MultilingualText ID="1" CompositionName="Comment">
        <ObjectList>
          <MultilingualTextItem ID="2" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
      <SW.Blocks.CompileUnit ID="3" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="GlobalConstant" UId="21">
      <Constant Name="Local~CAN-Module" />
    </Access>
    <Access Scope="GlobalVariable" UId="22">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="iFCN" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="23">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="uiLen_BufferLimit" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="24">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="awCANIds" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="25">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="fReq" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="26">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="fBusy" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="27">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="uiResult" />
      </Symbol>
    </Access>
    <Access Scope="GlobalVariable" UId="28">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sCtrl" />
        <Component Name="wCANStatus" />
      </Symbol>
    </Access>
    <Call UId="29">
      <CallInfo Name="CAN_CTRL" BlockType="FB">
        <Instance Scope="GlobalVariable" UId="30">
          <Component Name="CAN_CTRL_DB_CM_1" />
        </Instance>
        <Parameter Name="HW_ID" Section="Input" Type="HW_IO" />
        <Parameter Name="FCN" Section="Input" Type="Int" />
        <Parameter Name="LEN_BufferLimit" Section="Input" Type="UInt" />
        <Parameter Name="CANIdList" Section="Input" Type="&quot;FCN_1_CANIDList&quot;" />
        <Parameter Name="BUSY" Section="Output" Type="Bool" />
        <Parameter Name="RET" Section="Output" Type="UInt" />
        <Parameter Name="CAN_STATUS" Section="Output" Type="Word" />
        <Parameter Name="REQ" Section="InOut" Type="Bool" />
      </CallInfo>
    </Call>
  </Parts>
  <Wires>
    <Wire UId="32">
      <OpenCon UId="31" />
      <NameCon UId="29" Name="en" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="21" />
      <NameCon UId="29" Name="HW_ID" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="22" />
      <NameCon UId="29" Name="FCN" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="23" />
      <NameCon UId="29" Name="LEN_BufferLimit" />
    </Wire>
    <Wire UId="36">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="CANIdList" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="REQ" />
    </Wire>
    <Wire UId="38">
      <NameCon UId="29" Name="BUSY" />
      <IdentCon UId="26" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="RET" />
      <IdentCon UId="27" />
    </Wire>
    <Wire UId="40">
      <NameCon UId="29" Name="CAN_STATUS" />
      <IdentCon UId="28" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>process a CAN_CTRL command (if requested)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>CAN Control</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="GlobalConstant" UId="21">
      <Constant Name="Local~CAN-Module" />
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="TestUint" />
      </Symbol>
    </Access>
    <Call UId="23">
      <CallInfo Name="Api_UploadCANFrames" BlockType="FC">
        <Parameter Name="HW_ID" Section="Input" Type="HW_IO" />
        <Parameter Name="uiRet" Section="Output" Type="UInt" />
      </CallInfo>
    </Call>
  </Parts>
  <Wires>
    <Wire UId="25">
      <OpenCon UId="24" />
      <NameCon UId="23" Name="en" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="HW_ID" />
    </Wire>
    <Wire UId="27">
      <NameCon UId="23" Name="uiRet" />
      <IdentCon UId="22" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>function processes the upload of CAN frames and processes the uploaded CAN frames</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>CAN receive from Puma (commands and setpoints)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <LineComment Inserted="false" NoClosingBracket="false" UId="21">
    <Text UId="22">Diagnosis to store error messages from CAN functions</Text>
  </LineComment>
  <NewLine Num="1" UId="23" />
  <Token Text="IF" UId="24" />
  <Blank Num="1" UId="25" />
  <Access Scope="GlobalVariable" UId="26">
    <Symbol UId="27">
      <Component Name="Api_CtrlCAN_DB" UId="28" />
      <Token Text="." UId="29" />
      <Component Name="sCtrl" UId="30" />
      <Token Text="." UId="31" />
      <Component Name="uiResult" UId="32" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="33" />
  <Token Text="&lt;&gt;" UId="34" />
  <Blank Num="1" UId="35" />
  <Access Scope="LiteralConstant" UId="36">
    <Constant UId="37">
      <ConstantValue UId="39">0</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="40" />
  <Token Text="THEN" UId="41" />
  <NewLine Num="1" UId="42" />
  <Blank Num="4" UId="43" />
  <Access Scope="LocalVariable" UId="44">
    <Symbol UId="45">
      <Component Name="TESTUINT_CTRL" UId="46" />
    </Symbol>
  </Access>
  <Token Text=":=" UId="47" />
  <Access Scope="GlobalVariable" UId="48">
    <Symbol UId="49">
      <Component Name="Api_CtrlCAN_DB" UId="50" />
      <Token Text="." UId="51" />
      <Component Name="sCtrl" UId="52" />
      <Token Text="." UId="53" />
      <Component Name="uiResult" UId="54" />
    </Symbol>
  </Access>
  <Token Text=";" UId="55" />
  <NewLine Num="1" UId="56" />
  <Token Text="END_IF" UId="57" />
  <Token Text=";" UId="58" />
  <NewLine Num="1" UId="59" />
  <Token Text="IF" UId="60" />
  <Blank Num="1" UId="61" />
  <Access Scope="GlobalVariable" UId="62">
    <Symbol UId="63">
      <Component Name="Api_CtrlCAN_DB" UId="64" />
      <Token Text="." UId="65" />
      <Component Name="sSEND" UId="66" />
      <Token Text="." UId="67" />
      <Component Name="sDemo" UId="68" />
      <Token Text="." UId="69" />
      <Component Name="sDownload" UId="70" />
      <Token Text="." UId="71" />
      <Component Name="uiResult" UId="72" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="73" />
  <Token Text="&lt;&gt;" UId="74" />
  <Blank Num="1" UId="75" />
  <Access Scope="LiteralConstant" UId="76">
    <Constant UId="77">
      <ConstantValue UId="79">0</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="80" />
  <Token Text="THEN" UId="81" />
  <NewLine Num="1" UId="82" />
  <Blank Num="4" UId="83" />
  <Access Scope="LocalVariable" UId="84">
    <Symbol UId="85">
      <Component Name="TESTUINT_SEND" UId="86" />
    </Symbol>
  </Access>
  <Token Text=":=" UId="87" />
  <Access Scope="GlobalVariable" UId="88">
    <Symbol UId="89">
      <Component Name="Api_CtrlCAN_DB" UId="90" />
      <Token Text="." UId="91" />
      <Component Name="sSEND" UId="92" />
      <Token Text="." UId="93" />
      <Component Name="sDemo" UId="94" />
      <Token Text="." UId="95" />
      <Component Name="sDownload" UId="96" />
      <Token Text="." UId="97" />
      <Component Name="uiResult" UId="98" />
    </Symbol>
  </Access>
  <Token Text=";" UId="99" />
  <NewLine Num="1" UId="100" />
  <Token Text="END_IF" UId="101" />
  <Token Text=";" UId="102" />
  <NewLine Num="1" UId="103" />
  <Token Text="IF" UId="104" />
  <Blank Num="1" UId="105" />
  <Access Scope="LocalVariable" UId="106">
    <Symbol UId="107">
      <Component Name="TestUint" UId="108" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="109" />
  <Token Text="&lt;&gt;" UId="110" />
  <Blank Num="1" UId="111" />
  <Access Scope="LiteralConstant" UId="112">
    <Constant UId="113">
      <ConstantValue UId="115">0</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="116" />
  <Token Text="THEN" UId="117" />
  <NewLine Num="1" UId="118" />
  <Blank Num="4" UId="119" />
  <Access Scope="LocalVariable" UId="120">
    <Symbol UId="121">
      <Component Name="TESTUINT_RCV" UId="122" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="123" />
  <Token Text=":=" UId="124" />
  <Blank Num="1" UId="125" />
  <Access Scope="LocalVariable" UId="126">
    <Symbol UId="127">
      <Component Name="TestUint" UId="128" />
    </Symbol>
  </Access>
  <Token Text=";" UId="129" />
  <NewLine Num="1" UId="130" />
  <Token Text="END_IF" UId="131" />
  <Token Text=";" UId="132" />
  <NewLine Num="2" UId="133" />
  <Token Text="IF" UId="134" />
  <Blank Num="1" UId="135" />
  <Token Text="NOT" UId="136" />
  <Blank Num="1" UId="137" />
  <Access Scope="GlobalVariable" UId="138">
    <Symbol UId="139">
      <Component Name="Api_CtrlCAN_DB" UId="140" />
      <Token Text="." UId="141" />
      <Component Name="sRCV" UId="142" />
      <Token Text="." UId="143" />
      <Component Name="fReq" UId="144" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="145" />
  <Token Text="THEN" UId="146" />
  <Blank Num="1" UId="147" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="148">
    <Text UId="149"> Was ist das und wofür?</Text>
  </LineComment>
  <NewLine Num="1" UId="150" />
  <Blank Num="4" UId="151" />
  <Access Scope="GlobalVariable" UId="152">
    <Symbol UId="153">
      <Component Name="Api_CtrlCAN_DB" UId="154" />
      <Token Text="." UId="155" />
      <Component Name="sCtrl" UId="156" />
      <Token Text="." UId="157" />
      <Component Name="fReq" UId="158" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="159" />
  <Token Text=":=" UId="160" />
  <Blank Num="1" UId="161" />
  <Access Scope="LiteralConstant" UId="162">
    <Constant UId="163">
      <ConstantValue UId="165">True</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="166" />
  <NewLine Num="1" UId="167" />
  <Blank Num="4" UId="168" />
  <Access Scope="GlobalVariable" UId="169">
    <Symbol UId="170">
      <Component Name="Api_CtrlCAN_DB" UId="171" />
      <Token Text="." UId="172" />
      <Component Name="sCtrl" UId="173" />
      <Token Text="." UId="174" />
      <Component Name="iFCN" UId="175" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="176" />
  <Token Text=":=" UId="177" />
  <Blank Num="1" UId="178" />
  <Access Scope="LiteralConstant" UId="179">
    <Constant UId="180">
      <ConstantValue UId="182">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="183" />
  <NewLine Num="1" UId="184" />
  <Blank Num="4" UId="185" />
  <Access Scope="GlobalVariable" UId="186">
    <Symbol UId="187">
      <Component Name="Api_CtrlCAN_DB" UId="188" />
      <Token Text="." UId="189" />
      <Component Name="sRCV" UId="190" />
      <Token Text="." UId="191" />
      <Component Name="fReq" UId="192" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="193" />
  <Token Text=":=" UId="194" />
  <Blank Num="1" UId="195" />
  <Access Scope="LiteralConstant" UId="196">
    <Constant UId="197">
      <ConstantValue UId="199">True</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="200" />
  <NewLine Num="1" UId="201" />
  <Token Text="END_IF" UId="202" />
  <Token Text=";" UId="203" />
  <NewLine Num="3" UId="204" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="205">
    <Text UId="206">Update current status</Text>
  </LineComment>
  <NewLine Num="1" UId="207" />
  <Token Text="IF" UId="208" />
  <Blank Num="1" UId="209" />
  <Access Scope="GlobalVariable" UId="210">
    <Symbol UId="211">
      <Component Name="Api_CtrlCAN_DB" UId="212" />
      <Token Text="." UId="213" />
      <Component Name="sSEND" UId="214" />
      <Token Text="." UId="215" />
      <Component Name="fTransfer" UId="216" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="217" />
  <Token Text="AND" UId="218" />
  <Blank Num="1" UId="219" />
  <Access Scope="LocalVariable" UId="220">
    <Symbol UId="221">
      <Component Name="SendBusy" UId="222" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="223" />
  <Token Text="THEN" UId="224" />
  <Blank Num="1" UId="225" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="226">
    <Text UId="227">If completed transmission pending then check current status</Text>
  </LineComment>
  <NewLine Num="1" UId="228" />
  <Blank Num="4" UId="229" />
  <Access Scope="Call" UId="230">
    <CallInfo UId="231" BlockType="FC">
      <Instance Scope="GlobalVariable" UId="233">
        <Component Name="Api_DownloadCANFrames" UId="232" />
      </Instance>
      <Token Text="(" UId="234" />
      <Parameter Name="HW_ID" UId="235">
        <Blank Num="1" UId="236" />
        <Token Text=":=" UId="237" />
        <Blank Num="1" UId="238" />
        <Access Scope="GlobalConstant" UId="239">
          <Constant Name="Local~CAN-Module" UId="240" />
        </Access>
      </Parameter>
      <Token Text="," UId="243" />
      <NewLine Num="1" UId="244" />
      <Blank Num="28" UId="245" />
      <Parameter Name="Send_Busy" UId="246">
        <Blank Num="1" UId="247" />
        <Token Text=":=" UId="248" />
        <Blank Num="1" UId="249" />
        <Access Scope="LocalVariable" UId="250">
          <Symbol UId="251">
            <Component Name="SendBusy" UId="252" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text=")" UId="253" />
    </CallInfo>
  </Access>
  <Token Text=";" UId="254" />
  <NewLine Num="1" UId="255" />
  <Token Text="END_IF" UId="256" />
  <Token Text=";" UId="257" />
  <Blank Num="1" UId="258" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="259">
    <Text UId="260"> "Api_CtrlCAN_DB".sSEND.fTransfer THEN </Text>
  </LineComment>
  <NewLine Num="2" UId="261" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="262">
    <Text UId="263">Write IDs to send list</Text>
  </LineComment>
  <NewLine Num="1" UId="264" />
  <Token Text="IF" UId="265" />
  <Blank Num="1" UId="266" />
  <Token Text="NOT" UId="267" />
  <Blank Num="1" UId="268" />
  <Access Scope="GlobalVariable" UId="269">
    <Symbol UId="270">
      <Component Name="Api_CtrlCAN_DB" UId="271" />
      <Token Text="." UId="272" />
      <Component Name="sSEND" UId="273" />
      <Token Text="." UId="274" />
      <Component Name="fTransfer" UId="275" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="276" />
  <Token Text="AND" UId="277" />
  <Blank Num="1" UId="278" />
  <Token Text="NOT" UId="279" />
  <Blank Num="1" UId="280" />
  <Access Scope="LocalVariable" UId="281">
    <Symbol UId="282">
      <Component Name="SendBusy" UId="283" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="284" />
  <Token Text="THEN" UId="285" />
  <Blank Num="1" UId="286" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="287">
    <Text UId="288"> OR NOT "Api_CtrlCAN_DB".sSEND.sDemo.sRequest.fReq THEN</Text>
  </LineComment>
  <NewLine Num="1" UId="289" />
  <Blank Num="4" UId="290" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="291">
    <Text UId="292"> In Transfere is ready or actually no send request (first or due to error)    </Text>
  </LineComment>
  <NewLine Num="1" UId="293" />
  <Blank Num="4" UId="294" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="295">
    <Text UId="296"> Currently in case of error we do not resend this on, but proceed with the other ones. It is only retransmitted within the normal procedure after a complete cycle.</Text>
  </LineComment>
  <NewLine Num="1" UId="297" />
  <Blank Num="4" UId="298" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="299">
    <Text UId="300"> "Api_CtrlCAN_DB".sSEND.sDemo.sRequest.fError ist die error flag</Text>
  </LineComment>
  <NewLine Num="1" UId="301" />
  <Blank Num="4" UId="302" />
  <NewLine Num="1" UId="303" />
  <Blank Num="4" UId="304" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="305">
    <Text UId="306">#UpperBound := UPPER_BOUND(ARR := #"CAN-IDs_ToSend", DIM := 1);     //Upper bound of all CAN-IDs to send</Text>
  </LineComment>
  <NewLine Num="1" UId="307" />
  <Blank Num="4" UId="308" />
  <Access Scope="LocalVariable" UId="309">
    <Symbol UId="310">
      <Component Name="UpperBound" UId="311" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="312" />
  <Token Text=":=" UId="313" />
  <Blank Num="1" UId="314" />
  <Access Scope="LiteralConstant" UId="315">
    <Constant UId="316">
      <ConstantValue UId="318">69</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="319" />
  <NewLine Num="1" UId="320" />
  <Blank Num="4" UId="321" />
  <Access Scope="LocalVariable" UId="322">
    <Symbol UId="323">
      <Component Name="NumberOfFrames" UId="324" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="325" />
  <Token Text=":=" UId="326" />
  <Blank Num="1" UId="327" />
  <Access Scope="LiteralConstant" UId="328">
    <Constant UId="329">
      <ConstantValue UId="331">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="332" />
  <Blank Num="47" UId="333" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="334">
    <Text UId="335">Resetting CAN frame counter</Text>
  </LineComment>
  <NewLine Num="1" UId="336" />
  <Blank Num="4" UId="337" />
  <Token Text="FOR" UId="338" />
  <Blank Num="1" UId="339" />
  <Access Scope="LocalVariable" UId="340">
    <Symbol UId="341">
      <Component Name="i" UId="342" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="343" />
  <Token Text=":=" UId="344" />
  <Blank Num="1" UId="345" />
  <Access Scope="LiteralConstant" UId="346">
    <Constant UId="347">
      <ConstantValue UId="349">0</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="350" />
  <Token Text="TO" UId="351" />
  <Blank Num="1" UId="352" />
  <Access Scope="LiteralConstant" UId="353">
    <Constant UId="354">
      <ConstantValue UId="356">18</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="357" />
  <Token Text="DO" UId="358" />
  <Blank Num="48" UId="359" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="360">
    <Text UId="361">Writing all 10/19 CAN_IDs to send into output array</Text>
  </LineComment>
  <NewLine Num="1" UId="362" />
  <Blank Num="8" UId="363" />
  <Token Text="IF" UId="364" />
  <Blank Num="1" UId="365" />
  <Access Scope="LocalVariable" UId="366">
    <Symbol UId="367">
      <Component Name="Memory" UId="368" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="369" />
  <Token Text="+" UId="370" />
  <Blank Num="1" UId="371" />
  <Access Scope="LocalVariable" UId="372">
    <Symbol UId="373">
      <Component Name="i" UId="374" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="375" />
  <Token Text="&lt;=" UId="376" />
  <Blank Num="1" UId="377" />
  <Access Scope="LocalVariable" UId="378">
    <Symbol UId="379">
      <Component Name="UpperBound" UId="380" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="381" />
  <Token Text="THEN" UId="382" />
  <Blank Num="29" UId="383" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="384">
    <Text UId="385">Check if there are CAN-IDs left</Text>
  </LineComment>
  <NewLine Num="1" UId="386" />
  <Blank Num="12" UId="387" />
  <Access Scope="GlobalVariable" UId="388">
    <Symbol UId="389">
      <Component Name="Api_CtrlCAN_DB" UId="390" />
      <Token Text="." UId="391" />
      <Component Name="sSEND" UId="392" />
      <Token Text="." UId="393" />
      <Component Name="sDemo" UId="394" />
      <Token Text="." UId="395" />
      <Component Name="sRequest" UId="396" />
      <Token Text="." UId="397" />
      <Component Name="aiCAN_ID" UId="398">
        <Token Text="[" UId="399" />
        <Access Scope="LocalVariable" UId="400">
          <Symbol UId="401">
            <Component Name="i" UId="402" />
          </Symbol>
        </Access>
        <Token Text="]" UId="403" />
      </Component>
    </Symbol>
  </Access>
  <Blank Num="1" UId="404" />
  <Token Text=":=" UId="405" />
  <Blank Num="1" UId="406" />
  <Access Scope="LocalVariable" UId="407">
    <Symbol UId="408">
      <Component Name="CAN-IDs_ToSend" UId="409">
        <Token Text="[" UId="410" />
        <Access Scope="LocalVariable" UId="411">
          <Symbol UId="412">
            <Component Name="i" UId="413" />
          </Symbol>
        </Access>
        <Blank Num="1" UId="414" />
        <Token Text="+" UId="415" />
        <Blank Num="1" UId="416" />
        <Access Scope="LocalVariable" UId="417">
          <Symbol UId="418">
            <Component Name="Memory" UId="419" />
          </Symbol>
        </Access>
        <Token Text="]" UId="420" />
      </Component>
    </Symbol>
  </Access>
  <Token Text=";" UId="421" />
  <Blank Num="6" UId="422" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="423">
    <Text UId="424">The next ID gets written into send list</Text>
  </LineComment>
  <NewLine Num="1" UId="425" />
  <Blank Num="12" UId="426" />
  <Access Scope="LocalVariable" UId="427">
    <Symbol UId="428">
      <Component Name="NumberOfFrames" UId="429" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="430" />
  <Token Text=":=" UId="431" />
  <Blank Num="1" UId="432" />
  <Access Scope="LocalVariable" UId="433">
    <Symbol UId="434">
      <Component Name="NumberOfFrames" UId="435" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="436" />
  <Token Text="+" UId="437" />
  <Blank Num="1" UId="438" />
  <Access Scope="LiteralConstant" UId="439">
    <Constant UId="440">
      <ConstantValue UId="442">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="443" />
  <Blank Num="21" UId="444" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="445">
    <Text UId="446">Count up on each frame</Text>
  </LineComment>
  <NewLine Num="1" UId="447" />
  <Blank Num="8" UId="448" />
  <Token Text="ELSE" UId="449" />
  <NewLine Num="1" UId="450" />
  <Blank Num="12" UId="451" />
  <Access Scope="GlobalVariable" UId="452">
    <Symbol UId="453">
      <Component Name="Api_CtrlCAN_DB" UId="454" />
      <Token Text="." UId="455" />
      <Component Name="sSEND" UId="456" />
      <Token Text="." UId="457" />
      <Component Name="sDemo" UId="458" />
      <Token Text="." UId="459" />
      <Component Name="sRequest" UId="460" />
      <Token Text="." UId="461" />
      <Component Name="aiCAN_ID" UId="462">
        <Token Text="[" UId="463" />
        <Access Scope="LocalVariable" UId="464">
          <Symbol UId="465">
            <Component Name="i" UId="466" />
          </Symbol>
        </Access>
        <Token Text="]" UId="467" />
      </Component>
    </Symbol>
  </Access>
  <Blank Num="1" UId="468" />
  <Token Text=":=" UId="469" />
  <Blank Num="1" UId="470" />
  <Access Scope="LiteralConstant" UId="471">
    <Constant UId="472">
      <ConstantValue UId="474">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="475" />
  <Blank Num="4" UId="476" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="477">
    <Text UId="478">No ID left</Text>
  </LineComment>
  <NewLine Num="1" UId="479" />
  <Blank Num="8" UId="480" />
  <Token Text="END_IF" UId="481" />
  <Token Text=";" UId="482" />
  <NewLine Num="1" UId="483" />
  <Blank Num="8" UId="484" />
  <NewLine Num="1" UId="485" />
  <Blank Num="4" UId="486" />
  <Token Text="END_FOR" UId="487" />
  <Token Text=";" UId="488" />
  <NewLine Num="1" UId="489" />
  <Blank Num="4" UId="490" />
  <NewLine Num="1" UId="491" />
  <Blank Num="4" UId="492" />
  <Access Scope="GlobalVariable" UId="493">
    <Symbol UId="494">
      <Component Name="Api_CtrlCAN_DB" UId="495" />
      <Token Text="." UId="496" />
      <Component Name="sSEND" UId="497" />
      <Token Text="." UId="498" />
      <Component Name="sDemo" UId="499" />
      <Token Text="." UId="500" />
      <Component Name="sRequest" UId="501" />
      <Token Text="." UId="502" />
      <Component Name="siNoFrames" UId="503" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="504" />
  <Token Text=":=" UId="505" />
  <Blank Num="1" UId="506" />
  <Access Scope="LocalVariable" UId="507">
    <Symbol UId="508">
      <Component Name="NumberOfFrames" UId="509" />
    </Symbol>
  </Access>
  <Token Text=";" UId="510" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="511">
    <Text UId="512">Send number of CAN-IDs to send to maximum (19 [0..18])</Text>
  </LineComment>
  <NewLine Num="1" UId="513" />
  <Blank Num="4" UId="514" />
  <Access Scope="GlobalVariable" UId="515">
    <Symbol UId="516">
      <Component Name="Api_CtrlCAN_DB" UId="517" />
      <Token Text="." UId="518" />
      <Component Name="sSEND" UId="519" />
      <Token Text="." UId="520" />
      <Component Name="sDemo" UId="521" />
      <Token Text="." UId="522" />
      <Component Name="sRequest" UId="523" />
      <Token Text="." UId="524" />
      <Component Name="fReq" UId="525" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="526" />
  <Token Text=":=" UId="527" />
  <Blank Num="1" UId="528" />
  <Access Scope="LiteralConstant" UId="529">
    <Constant UId="530">
      <ConstantValue UId="532">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="533" />
  <Blank Num="17" UId="534" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="535">
    <Text UId="536">send new frame if not busy</Text>
  </LineComment>
  <NewLine Num="1" UId="537" />
  <Blank Num="4" UId="538" />
  <NewLine Num="1" UId="539" />
  <Blank Num="4" UId="540" />
  <Access Scope="LocalVariable" UId="541">
    <Symbol UId="542">
      <Component Name="Memory" UId="543" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="544" />
  <Token Text=":=" UId="545" />
  <Blank Num="1" UId="546" />
  <Access Scope="LocalVariable" UId="547">
    <Symbol UId="548">
      <Component Name="Memory" UId="549" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="550" />
  <Token Text="+" UId="551" />
  <Blank Num="1" UId="552" />
  <Access Scope="LocalVariable" UId="553">
    <Symbol UId="554">
      <Component Name="NumberOfFrames" UId="555" />
    </Symbol>
  </Access>
  <Token Text=";" UId="556" />
  <Blank Num="31" UId="557" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="558">
    <Text UId="559">Next cycle the Next 19 IDs gets send </Text>
  </LineComment>
  <NewLine Num="1" UId="560" />
  <Blank Num="4" UId="561" />
  <Token Text="IF" UId="562" />
  <Blank Num="1" UId="563" />
  <Access Scope="LocalVariable" UId="564">
    <Symbol UId="565">
      <Component Name="Memory" UId="566" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="567" />
  <Token Text="&gt;" UId="568" />
  <Blank Num="1" UId="569" />
  <Access Scope="LocalVariable" UId="570">
    <Symbol UId="571">
      <Component Name="UpperBound" UId="572" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="573" />
  <Token Text="THEN" UId="574" />
  <Blank Num="3" UId="575" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="576">
    <Text UId="577">if all IDs got send, all gets send again</Text>
  </LineComment>
  <NewLine Num="1" UId="578" />
  <Blank Num="8" UId="579" />
  <Access Scope="LocalVariable" UId="580">
    <Symbol UId="581">
      <Component Name="Memory" UId="582" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="583" />
  <Token Text=":=" UId="584" />
  <Blank Num="1" UId="585" />
  <Access Scope="LiteralConstant" UId="586">
    <Constant UId="587">
      <ConstantValue UId="589">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="590" />
  <Blank Num="15" UId="591" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="592">
    <Text UId="593">Start with ID 0</Text>
  </LineComment>
  <NewLine Num="1" UId="594" />
  <Blank Num="8" UId="595" />
  <Access Scope="LocalVariable" UId="596">
    <Symbol UId="597">
      <Component Name="CountSendAll" UId="598" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="599" />
  <Token Text="+=" UId="600" />
  <Blank Num="1" UId="601" />
  <Access Scope="LiteralConstant" UId="602">
    <Constant UId="603">
      <ConstantValue UId="605">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="606" />
  <NewLine Num="1" UId="607" />
  <Blank Num="4" UId="608" />
  <Token Text="END_IF" UId="609" />
  <Token Text=";" UId="610" />
  <Blank Num="1" UId="611" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="612">
    <Text UId="613"> IF #Memory &gt; #UpperBound THEN</Text>
  </LineComment>
  <NewLine Num="2" UId="614" />
  <Token Text="END_IF" UId="615" />
  <Token Text=";" UId="616" />
  <Blank Num="1" UId="617" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="618">
    <Text UId="619"> IF NOT "Api_CtrlCAN_DB".sSEND.fTransfer OR NOT "Api_CtrlCAN_DB".sSEND.sDemo.sRequest.fReq THEN</Text>
  </LineComment>
  <NewLine Num="1" UId="620" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="E" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="F" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>The CAN SEND block can only send 19 frames each call. So every call, other frame IDs gets written into the output list.
HW_ID := "Local~CAN-Module"</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="10" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="11" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Send CAN frame select</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="12" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="GlobalConstant" UId="21">
      <Constant Name="Local~CAN-Module" />
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="SendBusy" />
      </Symbol>
    </Access>
    <Call UId="23">
      <CallInfo Name="Api_DownloadCANFrames" BlockType="FC">
        <Parameter Name="HW_ID" Section="Input" Type="HW_IO" />
        <Parameter Name="Send_Busy" Section="InOut" Type="Bool" />
      </CallInfo>
    </Call>
  </Parts>
  <Wires>
    <Wire UId="25">
      <OpenCon UId="24" />
      <NameCon UId="23" Name="en" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="HW_ID" />
    </Wire>
    <Wire UId="27">
      <IdentCon UId="22" />
      <NameCon UId="23" Name="Send_Busy" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="13" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="14" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>function checks if CAN frames shall be transitted, which CAN frames shall be transmitted, enters the requested CAN frames in the data field that will be written to the CM module and processes the download to the CM module</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="15" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="16" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>CAN send to Puma</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="17" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="GlobalConstant" UId="21">
      <Constant Name="Local~CAN-Module" />
    </Access>
    <Access Scope="GlobalVariable" UId="22">
      <Symbol>
        <Component Name="Api_CtrlCAN_DB" />
        <Component Name="sDIAG" />
        <Component Name="fReq" />
      </Symbol>
    </Access>
    <Call UId="23">
      <CallInfo Name="Api_GetDiagnosticInfo" BlockType="FC">
        <Parameter Name="HW_ID" Section="Input" Type="HW_IO" />
        <Parameter Name="REQ" Section="InOut" Type="Bool" />
      </CallInfo>
    </Call>
  </Parts>
  <Wires>
    <Wire UId="25">
      <OpenCon UId="24" />
      <NameCon UId="23" Name="en" />
    </Wire>
    <Wire UId="26">
      <IdentCon UId="21" />
      <NameCon UId="23" Name="HW_ID" />
    </Wire>
    <Wire UId="27">
      <IdentCon UId="22" />
      <NameCon UId="23" Name="REQ" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="18" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="19" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>process "Get Diagnostic Information" (if requested)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1A" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="1B" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>CAN Diagnosis</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="1C" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource />
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="1D" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="1E" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>WinCC Alarm 3001 triggered from:
"CAN_Data_DB".InputData.CAN_ID_101h.Error_CAN
Plumb this in on the PUT side</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1F" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="20" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Error message via CAN</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="21" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <Access Scope="LocalVariable" UId="21">
    <Symbol UId="22">
      <Component Name="TOF_SendError" UId="23" />
    </Symbol>
  </Access>
  <Access Scope="Call" UId="24">
    <Instruction UId="25">
      <Token Text="(" UId="26" />
      <Parameter Name="IN" UId="27">
        <Token Text=":=" UId="28" />
        <Access Scope="LocalVariable" UId="29">
          <Symbol UId="30">
            <Component Name="TESTUINT_SEND" UId="31" />
          </Symbol>
        </Access>
        <Token Text="&lt;&gt;" UId="32" />
        <Access Scope="LiteralConstant" UId="33">
          <Constant UId="34">
            <ConstantValue UId="36">0</ConstantValue>
          </Constant>
        </Access>
      </Parameter>
      <Token Text="," UId="37" />
      <NewLine Num="1" UId="38" />
      <Blank Num="15" UId="39" />
      <Parameter Name="PT" UId="40">
        <Token Text=":=" UId="41" />
        <Access Scope="TypedConstant" UId="42">
          <Constant UId="43">
            <ConstantValue UId="44">T#10s</ConstantValue>
          </Constant>
        </Access>
      </Parameter>
      <Token Text=")" UId="45" />
    </Instruction>
  </Access>
  <Token Text=";" UId="46" />
  <NewLine Num="2" UId="47" />
  <Access Scope="LocalVariable" UId="48">
    <Symbol UId="49">
      <Component Name="TESTUINT_SEND" UId="50" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="51" />
  <Token Text=":=" UId="52" />
  <Blank Num="1" UId="53" />
  <Access Scope="LiteralConstant" UId="54">
    <Constant UId="55">
      <ConstantValue UId="57">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="58" />
  <Blank Num="1" UId="59" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="60">
    <Text UId="61">Reset Error</Text>
  </LineComment>
  <NewLine Num="2" UId="62" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="63">
    <Text UId="64">"WinCC_Alarm"(TriggerBit := #TOF_SendError.Q,</Text>
  </LineComment>
  <NewLine Num="1" UId="65" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="66">
    <Text UId="67">        Message := "DB_WinCCAlarms".Messages."3-Communication"."3002_ErrorWhileCANSending");</Text>
  </LineComment>
  <NewLine Num="1" UId="68" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="22" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="23" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="24" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="25" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Error while sending CAN frames</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="26" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <LineComment Inserted="false" NoClosingBracket="false" UId="21">
    <Text UId="22"> Copied from process PLC</Text>
  </LineComment>
  <NewLine Num="1" UId="23" />
  <Token Text="IF" UId="24" />
  <Blank Num="1" UId="25" />
  <Access Scope="GlobalVariable" UId="26">
    <Symbol UId="27">
      <Component Name="DB_Puma" UId="28" />
      <Token Text="." UId="29" />
      <Component Name="CAN-Reset_Required" UId="30" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="31" />
  <Token Text="THEN" UId="32" />
  <NewLine Num="1" UId="33" />
  <Blank Num="4" UId="34" />
  <Access Scope="GlobalVariable" UId="35">
    <Symbol UId="36">
      <Component Name="Api_CtrlCAN_DB" UId="37" />
      <Token Text="." UId="38" />
      <Component Name="sCtrl" UId="39" />
      <Token Text="." UId="40" />
      <Component Name="fReq" UId="41" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="42" />
  <Token Text=":=" UId="43" />
  <Blank Num="1" UId="44" />
  <Access Scope="LiteralConstant" UId="45">
    <Constant UId="46">
      <ConstantValue UId="48">True</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="49" />
  <NewLine Num="1" UId="50" />
  <Blank Num="4" UId="51" />
  <Access Scope="GlobalVariable" UId="52">
    <Symbol UId="53">
      <Component Name="Api_CtrlCAN_DB" UId="54" />
      <Token Text="." UId="55" />
      <Component Name="sCtrl" UId="56" />
      <Token Text="." UId="57" />
      <Component Name="iFCN" UId="58" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="59" />
  <Token Text=":=" UId="60" />
  <Blank Num="1" UId="61" />
  <Access Scope="LiteralConstant" UId="62">
    <Constant UId="63">
      <ConstantValue UId="65">5</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="66" />
  <NewLine Num="1" UId="67" />
  <Blank Num="4" UId="68" />
  <Access Scope="GlobalVariable" UId="69">
    <Symbol UId="70">
      <Component Name="DB_Puma" UId="71" />
      <Token Text="." UId="72" />
      <Component Name="CAN-Reset_Required" UId="73" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="74" />
  <Token Text=":=" UId="75" />
  <Blank Num="1" UId="76" />
  <Access Scope="LiteralConstant" UId="77">
    <Constant UId="78">
      <ConstantValue UId="80">FALSE</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="81" />
  <NewLine Num="1" UId="82" />
  <Token Text="ELSIF" UId="83" />
  <Blank Num="1" UId="84" />
  <Access Scope="GlobalVariable" UId="85">
    <Symbol UId="86">
      <Component Name="Api_CtrlCAN_DB" UId="87" />
      <Token Text="." UId="88" />
      <Component Name="sCtrl" UId="89" />
      <Token Text="." UId="90" />
      <Component Name="iFCN" UId="91" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="92" />
  <Token Text="=" UId="93" />
  <Blank Num="1" UId="94" />
  <Access Scope="LiteralConstant" UId="95">
    <Constant UId="96">
      <ConstantValue UId="98">5</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="99" />
  <Token Text="THEN" UId="100" />
  <NewLine Num="1" UId="101" />
  <Blank Num="4" UId="102" />
  <NewLine Num="1" UId="103" />
  <Blank Num="4" UId="104" />
  <Access Scope="GlobalVariable" UId="105">
    <Symbol UId="106">
      <Component Name="Api_CtrlCAN_DB" UId="107" />
      <Token Text="." UId="108" />
      <Component Name="sCtrl" UId="109" />
      <Token Text="." UId="110" />
      <Component Name="fReq" UId="111" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="112" />
  <Token Text=":=" UId="113" />
  <Blank Num="1" UId="114" />
  <Access Scope="LiteralConstant" UId="115">
    <Constant UId="116">
      <ConstantValue UId="118">True</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="119" />
  <NewLine Num="1" UId="120" />
  <Blank Num="4" UId="121" />
  <Access Scope="GlobalVariable" UId="122">
    <Symbol UId="123">
      <Component Name="Api_CtrlCAN_DB" UId="124" />
      <Token Text="." UId="125" />
      <Component Name="sCtrl" UId="126" />
      <Token Text="." UId="127" />
      <Component Name="iFCN" UId="128" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="129" />
  <Token Text=":=" UId="130" />
  <Blank Num="1" UId="131" />
  <Access Scope="LiteralConstant" UId="132">
    <Constant UId="133">
      <ConstantValue UId="135">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="136" />
  <NewLine Num="1" UId="137" />
  <Token Text="END_IF" UId="138" />
  <Token Text=";" UId="139" />
  <NewLine Num="1" UId="140" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="27" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="28" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>This function resets the CAN-Module. For example sometimes the output queue for CAN-frames is full and sends an error. And the reset clears this queue, too.</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="29" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2A" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Reset CAN module (queue)</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <MultilingualText ID="2B" CompositionName="Title">
        <ObjectList>
          <MultilingualTextItem ID="2C" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
    </ObjectList>
  </SW.Blocks.FB>
</Document>