<?xml version="1.0" encoding="utf-8"?>
<Document>
  <Engineering version="V17" />
  <DocumentInfo>
    <Created>2025-06-25T13:13:15.3129596Z</Created>
    <ExportSetting>WithDefaults</ExportSetting>
    <InstalledProducts>
      <Product>
        <DisplayName>Totally Integrated Automation Portal</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>TIA Portal Openness</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </OptionPackage>
      <OptionPackage>
        <DisplayName>TIA Portal Version Control Interface</DisplayName>
        <DisplayVersion>V17</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>STEP 7 Professional</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>STEP 7 Safety</DisplayName>
        <DisplayVersion>V17 Update 6</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>WinCC Advanced</DisplayName>
        <DisplayVersion>V17 Update 8</DisplayVersion>
      </Product>
    </InstalledProducts>
  </DocumentInfo>
  <SW.Blocks.FB ID="0">
    <AttributeList>
      <AutoNumber>true</AutoNumber>
      <HeaderAuthor>Heaten</HeaderAuthor>
      <HeaderFamily />
      <HeaderName />
      <HeaderVersion>1.0</HeaderVersion>
      <Interface><Sections xmlns="http://www.siemens.com/automation/Openness/SW/Interface/v5">
  <Section Name="Input">
    <Member Name="bOpenReq" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">1 = open valve, 0 = do not open valve (Level signal)</MultiLanguageText></Comment></Member>
    <Member Name="bCloseReq" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">1 = close valve, 0 = do not close valve (Level signal)</MultiLanguageText></Comment></Member>
    <Member Name="bOpenStat" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">1 = valve is open, 0 = valve is not open</MultiLanguageText></Comment></Member>
    <Member Name="bClosedStat" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList><Comment><MultiLanguageText Lang="de-DE">1 = valve is closed, 0 = valve is not closed</MultiLanguageText></Comment></Member>
  </Section>
  <Section Name="Output">
    <Member Name="bOpenCmd" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList></Member>
    <Member Name="bCloseCmd" Datatype="Bool" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute></AttributeList></Member>
  </Section>
  <Section Name="InOut">
    <Member Name="sTag" Datatype="&quot;stProcessValve2&quot;" Accessibility="Public">
      <Sections>
        <Section Name="None">
          <Member Name="bOpenRequest" Datatype="Bool" />
          <Member Name="bCloseRequest" Datatype="Bool" />
          <Member Name="bOpenStatus" Datatype="Bool" />
          <Member Name="bClosedStatus" Datatype="Bool" />
          <Member Name="bNormalState" Datatype="Bool" />
          <Member Name="bOpenCommand" Datatype="Bool" />
          <Member Name="bCloseCommand" Datatype="Bool" />
          <Member Name="bManualMode" Datatype="Bool" />
          <Member Name="bManualOpenRequest" Datatype="Bool" />
          <Member Name="bManualCloseRequest" Datatype="Bool" />
          <Member Name="nState" Datatype="USInt" />
          <Member Name="tOpeningTimeout" Datatype="Time" />
          <Member Name="tClosingTimeout" Datatype="Time" />
        </Section>
      </Sections>
    </Member>
  </Section>
  <Section Name="Static">
    <Member Name="OpenTimer" Datatype="TON_TIME" Version="1.0" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">false</BooleanAttribute></AttributeList><Sections><Section Name="None"><Member Name="PT" Datatype="Time" /><Member Name="ET" Datatype="Time" /><Member Name="IN" Datatype="Bool" /><Member Name="Q" Datatype="Bool" /></Section></Sections></Member>
    <Member Name="CloseTimer" Datatype="TON_TIME" Version="1.0" Remanence="NonRetain" Accessibility="Public"><AttributeList><BooleanAttribute Name="ExternalAccessible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalVisible" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="ExternalWritable" SystemDefined="true">true</BooleanAttribute><BooleanAttribute Name="SetPoint" SystemDefined="true">true</BooleanAttribute></AttributeList><Sections><Section Name="None"><Member Name="PT" Datatype="Time" /><Member Name="ET" Datatype="Time" /><Member Name="IN" Datatype="Bool" /><Member Name="Q" Datatype="Bool" /></Section></Sections></Member>
  </Section>
  <Section Name="Temp">
    <Member Name="Opening" Datatype="Bool" />
    <Member Name="Closing" Datatype="Bool" />
    <Member Name="OpenError" Datatype="Bool" />
    <Member Name="CloseError" Datatype="Bool" />
    <Member Name="OpenReq" Datatype="Bool" />
    <Member Name="CloseReq" Datatype="Bool" />
  </Section>
  <Section Name="Constant">
    <Member Name="STATE_UNKNOWN" Datatype="USInt" Accessibility="Public">
      <StartValue>0</StartValue>
    </Member>
    <Member Name="STATE_CLOSED" Datatype="USInt" Accessibility="Public">
      <StartValue>1</StartValue>
    </Member>
    <Member Name="STATE_OPEN" Datatype="USInt" Accessibility="Public">
      <StartValue>2</StartValue>
    </Member>
    <Member Name="STATE_CLOSING" Datatype="USInt" Accessibility="Public">
      <StartValue>3</StartValue>
    </Member>
    <Member Name="STATE_OPENING" Datatype="USInt" Accessibility="Public">
      <StartValue>4</StartValue>
    </Member>
    <Member Name="STATE_CLOSE_ERROR" Datatype="USInt" Accessibility="Public">
      <StartValue>5</StartValue>
    </Member>
    <Member Name="STATE_OPEN_ERROR" Datatype="USInt" Accessibility="Public">
      <StartValue>6</StartValue>
    </Member>
  </Section>
</Sections></Interface>
      <IsIECCheckEnabled>false</IsIECCheckEnabled>
      <IsRetainMemResEnabled>false</IsRetainMemResEnabled>
      <MemoryLayout>Optimized</MemoryLayout>
      <MemoryReserve>0</MemoryReserve>
      <Name>fbProcessValve2_V2</Name>
      <Number>67</Number>
      <ProgrammingLanguage>FBD</ProgrammingLanguage>
      <SetENOAutomatically>false</SetENOAutomatically>
      <UDABlockProperties />
      <UDAEnableTagReadback>false</UDAEnableTagReadback>
    </AttributeList>
    <ObjectList>
      <MultilingualText ID="1" CompositionName="Comment">
        <ObjectList>
          <MultilingualTextItem ID="2" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
      <SW.Blocks.CompileUnit ID="3" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <LineComment Inserted="false" NoClosingBracket="false" UId="21">
    <Text UId="22"> Process valve control with decoupled states</Text>
  </LineComment>
  <NewLine Num="1" UId="23" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="24">
    <Text UId="25"> - valve state is directly represented by the feedback</Text>
  </LineComment>
  <NewLine Num="1" UId="26" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="27">
    <Text UId="28"> - requests are level signals</Text>
  </LineComment>
  <NewLine Num="1" UId="29" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="30">
    <Text UId="31"> - valve commands are conditions and not states</Text>
  </LineComment>
  <NewLine Num="1" UId="32" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="33">
    <Text UId="34"> - errors are conditions and not states</Text>
  </LineComment>
  <NewLine Num="1" UId="35" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="36">
    <Text UId="37"> - different concerns are decoupled: valve state, request &amp; command, error detection</Text>
  </LineComment>
  <NewLine Num="1" UId="38" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="39">
    <Text UId="40"> - needs no initial state detection or special handling if valve position feedback disappears</Text>
  </LineComment>
  <NewLine Num="2" UId="41" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="42">
    <Text UId="43"> V1.0.0.0 08.03.2025 HEATEN</Text>
  </LineComment>
  <NewLine Num="1" UId="44" />
  <LineComment Inserted="false" NoClosingBracket="false" UId="45">
    <Text UId="46"> - Initial version</Text>
  </LineComment>
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="4" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="5" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Remember to update the version in the block properties!</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="6" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="7" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Description &amp; version history</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="8" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="bOpenReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualMode" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualOpenRequest" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualMode" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="OpenReq" />
      </Symbol>
    </Access>
    <Part Name="A" UId="26">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <Negated Name="in2" />
    </Part>
    <Part Name="A" UId="27">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="O" UId="28">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="in1" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="22" />
      <NameCon UId="26" Name="in2" />
    </Wire>
    <Wire UId="32">
      <NameCon UId="26" Name="out" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="23" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="24" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="9" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="A" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Choose between auto &amp; manual</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="B" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="C" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Open Request</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="D" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="OpenReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="bOpenStat" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="OpenTimer" />
        <Component Name="Q" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="bOpenCmd" />
      </Symbol>
    </Access>
    <Part Name="A" UId="25">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
      <Negated Name="in2" />
      <Negated Name="in3" />
    </Part>
    <Part Name="Coil" UId="26" />
  </Parts>
  <Wires>
    <Wire UId="27">
      <IdentCon UId="21" />
      <NameCon UId="25" Name="in1" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="25" Name="in2" />
    </Wire>
    <Wire UId="29">
      <IdentCon UId="23" />
      <NameCon UId="25" Name="in3" />
    </Wire>
    <Wire UId="30">
      <NameCon UId="25" Name="out" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="24" />
      <NameCon UId="26" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="E" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="F" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Send the command when the request to open is given
Stop when the open status is received or timoeut has occurred</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="10" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="11" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Open Command</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="12" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="OpenReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="bOpenStat" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="Opening" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="tOpeningTimeout" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="OpenTimer" />
        <Component Name="Q" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="OpenError" />
      </Symbol>
    </Access>
    <Part Name="A" UId="27">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <Negated Name="in2" />
    </Part>
    <Part Name="Coil" UId="28" />
    <Part Name="TON" Version="1.0" UId="29">
      <Instance Scope="LocalVariable" UId="30">
        <Component Name="OpenTimer" />
      </Instance>
      <TemplateValue Name="time_type" Type="Type">Time</TemplateValue>
    </Part>
    <Part Name="A" UId="31">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="32" />
  </Parts>
  <Wires>
    <Wire UId="34">
      <IdentCon UId="21" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
      <NameCon UId="29" Name="IN" />
      <NameCon UId="31" Name="in1" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="PT" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="ET" />
      <OpenCon UId="33" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="25" />
      <NameCon UId="31" Name="in2" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="26" />
      <NameCon UId="32" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="13" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="14" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Opening as long as the open request is given and no open status received
Open timer fires when the request to open doesn't result in an open status after the timeout period
Open error active when opening and timeout occurs. Clears when the request is withdrawn or open status received</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="15" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="16" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Opening</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="17" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="bCloseReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualMode" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualCloseRequest" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="bManualMode" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="CloseReq" />
      </Symbol>
    </Access>
    <Part Name="A" UId="26">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <Negated Name="in2" />
    </Part>
    <Part Name="A" UId="27">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="O" UId="28">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="29" />
  </Parts>
  <Wires>
    <Wire UId="30">
      <IdentCon UId="21" />
      <NameCon UId="26" Name="in1" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="22" />
      <NameCon UId="26" Name="in2" />
    </Wire>
    <Wire UId="32">
      <NameCon UId="26" Name="out" />
      <NameCon UId="28" Name="in1" />
    </Wire>
    <Wire UId="33">
      <IdentCon UId="23" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="34">
      <IdentCon UId="24" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="35">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in2" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="28" Name="out" />
      <NameCon UId="29" Name="in" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="25" />
      <NameCon UId="29" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="18" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="19" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Choose between auto &amp; manual</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1A" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="1B" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Close Request</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="1C" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="CloseReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="bClosedStat" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="CloseTimer" />
        <Component Name="Q" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="bCloseCmd" />
      </Symbol>
    </Access>
    <Part Name="A" UId="25">
      <TemplateValue Name="Card" Type="Cardinality">3</TemplateValue>
      <Negated Name="in2" />
      <Negated Name="in3" />
    </Part>
    <Part Name="Coil" UId="26" />
  </Parts>
  <Wires>
    <Wire UId="27">
      <IdentCon UId="21" />
      <NameCon UId="25" Name="in1" />
    </Wire>
    <Wire UId="28">
      <IdentCon UId="22" />
      <NameCon UId="25" Name="in2" />
    </Wire>
    <Wire UId="29">
      <IdentCon UId="23" />
      <NameCon UId="25" Name="in3" />
    </Wire>
    <Wire UId="30">
      <NameCon UId="25" Name="out" />
      <NameCon UId="26" Name="in" />
    </Wire>
    <Wire UId="31">
      <IdentCon UId="24" />
      <NameCon UId="26" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="1D" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="1E" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Send the command when the request to close is given
Stop when the closed status is received or timoeut has occurred</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="1F" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="20" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Close Command</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="21" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><FlgNet xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/FlgNet/v4">
  <Parts>
    <Access Scope="LocalVariable" UId="21">
      <Symbol>
        <Component Name="CloseReq" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="22">
      <Symbol>
        <Component Name="bClosedStat" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="23">
      <Symbol>
        <Component Name="Closing" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="24">
      <Symbol>
        <Component Name="sTag" />
        <Component Name="tClosingTimeout" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="25">
      <Symbol>
        <Component Name="CloseTimer" />
        <Component Name="Q" />
      </Symbol>
    </Access>
    <Access Scope="LocalVariable" UId="26">
      <Symbol>
        <Component Name="CloseError" />
      </Symbol>
    </Access>
    <Part Name="A" UId="27">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
      <Negated Name="in2" />
    </Part>
    <Part Name="Coil" UId="28" />
    <Part Name="TON" Version="1.0" UId="29">
      <Instance Scope="LocalVariable" UId="30">
        <Component Name="CloseTimer" />
      </Instance>
      <TemplateValue Name="time_type" Type="Type">Time</TemplateValue>
    </Part>
    <Part Name="A" UId="31">
      <TemplateValue Name="Card" Type="Cardinality">2</TemplateValue>
    </Part>
    <Part Name="Coil" UId="32" />
  </Parts>
  <Wires>
    <Wire UId="34">
      <IdentCon UId="21" />
      <NameCon UId="27" Name="in1" />
    </Wire>
    <Wire UId="35">
      <IdentCon UId="22" />
      <NameCon UId="27" Name="in2" />
    </Wire>
    <Wire UId="36">
      <NameCon UId="27" Name="out" />
      <NameCon UId="28" Name="in" />
      <NameCon UId="29" Name="IN" />
      <NameCon UId="31" Name="in1" />
    </Wire>
    <Wire UId="37">
      <IdentCon UId="23" />
      <NameCon UId="28" Name="operand" />
    </Wire>
    <Wire UId="38">
      <IdentCon UId="24" />
      <NameCon UId="29" Name="PT" />
    </Wire>
    <Wire UId="39">
      <NameCon UId="29" Name="ET" />
      <OpenCon UId="33" />
    </Wire>
    <Wire UId="40">
      <IdentCon UId="25" />
      <NameCon UId="31" Name="in2" />
    </Wire>
    <Wire UId="41">
      <NameCon UId="31" Name="out" />
      <NameCon UId="32" Name="in" />
    </Wire>
    <Wire UId="42">
      <IdentCon UId="26" />
      <NameCon UId="32" Name="operand" />
    </Wire>
  </Wires>
</FlgNet></NetworkSource>
          <ProgrammingLanguage>FBD</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="22" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="23" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Closing as long as the close request is given and no closed status received
Close Timer fires when the request to close doesn't result in a closed status after the timeout period
Close error active when closing and timeout occurs. Clears when the request is withdrawn or closed status received</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="24" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="25" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Closing</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="26" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <Token Text="IF" UId="21" />
  <Blank Num="1" UId="22" />
  <Access Scope="LocalVariable" UId="23">
    <Symbol UId="24">
      <Component Name="OpenError" UId="25" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="26" />
  <Token Text="=" UId="27" />
  <Blank Num="1" UId="28" />
  <Access Scope="LiteralConstant" UId="29">
    <Constant UId="30">
      <ConstantValue UId="32">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="33" />
  <Token Text="THEN" UId="34" />
  <NewLine Num="1" UId="35" />
  <Blank Num="4" UId="36" />
  <Access Scope="LocalVariable" UId="37">
    <Symbol UId="38">
      <Component Name="sTag" UId="39" />
      <Token Text="." UId="40" />
      <Component Name="nState" UId="41" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="42" />
  <Token Text=":=" UId="43" />
  <Blank Num="1" UId="44" />
  <Access Scope="LocalConstant" UId="45">
    <Constant Name="STATE_OPEN_ERROR" UId="46" />
  </Access>
  <Token Text=";" UId="49" />
  <NewLine Num="1" UId="50" />
  <Token Text="ELSIF" UId="51" />
  <Blank Num="1" UId="52" />
  <Access Scope="LocalVariable" UId="53">
    <Symbol UId="54">
      <Component Name="CloseError" UId="55" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="56" />
  <Token Text="=" UId="57" />
  <Blank Num="1" UId="58" />
  <Access Scope="LiteralConstant" UId="59">
    <Constant UId="60">
      <ConstantValue UId="62">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="63" />
  <Token Text="THEN" UId="64" />
  <NewLine Num="1" UId="65" />
  <Blank Num="4" UId="66" />
  <Access Scope="LocalVariable" UId="67">
    <Symbol UId="68">
      <Component Name="sTag" UId="69" />
      <Token Text="." UId="70" />
      <Component Name="nState" UId="71" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="72" />
  <Token Text=":=" UId="73" />
  <Blank Num="1" UId="74" />
  <Access Scope="LocalConstant" UId="75">
    <Constant Name="STATE_CLOSE_ERROR" UId="76" />
  </Access>
  <Token Text=";" UId="79" />
  <NewLine Num="1" UId="80" />
  <Token Text="ELSIF" UId="81" />
  <Blank Num="1" UId="82" />
  <Access Scope="LocalVariable" UId="83">
    <Symbol UId="84">
      <Component Name="Opening" UId="85" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="86" />
  <Token Text="=" UId="87" />
  <Blank Num="1" UId="88" />
  <Access Scope="LiteralConstant" UId="89">
    <Constant UId="90">
      <ConstantValue UId="92">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="93" />
  <Token Text="THEN" UId="94" />
  <NewLine Num="1" UId="95" />
  <Blank Num="4" UId="96" />
  <Access Scope="LocalVariable" UId="97">
    <Symbol UId="98">
      <Component Name="sTag" UId="99" />
      <Token Text="." UId="100" />
      <Component Name="nState" UId="101" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="102" />
  <Token Text=":=" UId="103" />
  <Blank Num="1" UId="104" />
  <Access Scope="LocalConstant" UId="105">
    <Constant Name="STATE_OPENING" UId="106" />
  </Access>
  <Token Text=";" UId="109" />
  <NewLine Num="1" UId="110" />
  <Token Text="ELSIF" UId="111" />
  <Blank Num="1" UId="112" />
  <Access Scope="LocalVariable" UId="113">
    <Symbol UId="114">
      <Component Name="Closing" UId="115" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="116" />
  <Token Text="=" UId="117" />
  <Blank Num="1" UId="118" />
  <Access Scope="LiteralConstant" UId="119">
    <Constant UId="120">
      <ConstantValue UId="122">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="123" />
  <Token Text="THEN" UId="124" />
  <NewLine Num="1" UId="125" />
  <Blank Num="4" UId="126" />
  <Access Scope="LocalVariable" UId="127">
    <Symbol UId="128">
      <Component Name="sTag" UId="129" />
      <Token Text="." UId="130" />
      <Component Name="nState" UId="131" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="132" />
  <Token Text=":=" UId="133" />
  <Blank Num="1" UId="134" />
  <Access Scope="LocalConstant" UId="135">
    <Constant Name="STATE_CLOSING" UId="136" />
  </Access>
  <Token Text=";" UId="139" />
  <NewLine Num="1" UId="140" />
  <Token Text="ELSIF" UId="141" />
  <Blank Num="1" UId="142" />
  <Access Scope="LocalVariable" UId="143">
    <Symbol UId="144">
      <Component Name="bOpenStat" UId="145" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="146" />
  <Token Text="=" UId="147" />
  <Blank Num="1" UId="148" />
  <Access Scope="LiteralConstant" UId="149">
    <Constant UId="150">
      <ConstantValue UId="152">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="153" />
  <Token Text="THEN" UId="154" />
  <NewLine Num="1" UId="155" />
  <Blank Num="4" UId="156" />
  <Access Scope="LocalVariable" UId="157">
    <Symbol UId="158">
      <Component Name="sTag" UId="159" />
      <Token Text="." UId="160" />
      <Component Name="nState" UId="161" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="162" />
  <Token Text=":=" UId="163" />
  <Blank Num="1" UId="164" />
  <Access Scope="LocalConstant" UId="165">
    <Constant Name="STATE_OPEN" UId="166" />
  </Access>
  <Token Text=";" UId="169" />
  <NewLine Num="1" UId="170" />
  <Token Text="ELSIF" UId="171" />
  <Blank Num="1" UId="172" />
  <Access Scope="LocalVariable" UId="173">
    <Symbol UId="174">
      <Component Name="bClosedStat" UId="175" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="176" />
  <Token Text="=" UId="177" />
  <Blank Num="1" UId="178" />
  <Access Scope="LiteralConstant" UId="179">
    <Constant UId="180">
      <ConstantValue UId="182">TRUE</ConstantValue>
    </Constant>
  </Access>
  <Blank Num="1" UId="183" />
  <Token Text="THEN" UId="184" />
  <NewLine Num="1" UId="185" />
  <Blank Num="4" UId="186" />
  <Access Scope="LocalVariable" UId="187">
    <Symbol UId="188">
      <Component Name="sTag" UId="189" />
      <Token Text="." UId="190" />
      <Component Name="nState" UId="191" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="192" />
  <Token Text=":=" UId="193" />
  <Blank Num="1" UId="194" />
  <Access Scope="LocalConstant" UId="195">
    <Constant Name="STATE_CLOSED" UId="196" />
  </Access>
  <Token Text=";" UId="199" />
  <NewLine Num="1" UId="200" />
  <Token Text="ELSE" UId="201" />
  <NewLine Num="1" UId="202" />
  <Blank Num="4" UId="203" />
  <Access Scope="LocalVariable" UId="204">
    <Symbol UId="205">
      <Component Name="sTag" UId="206" />
      <Token Text="." UId="207" />
      <Component Name="nState" UId="208" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="209" />
  <Token Text=":=" UId="210" />
  <Blank Num="1" UId="211" />
  <Access Scope="LocalConstant" UId="212">
    <Constant Name="STATE_UNKNOWN" UId="213" />
  </Access>
  <Token Text=";" UId="216" />
  <NewLine Num="1" UId="217" />
  <Token Text="END_IF" UId="218" />
  <Token Text=";" UId="219" />
  <NewLine Num="2" UId="220" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="27" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="28" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>The order is important, otherwise some conditions are never detected</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="29" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2A" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>State representation</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <SW.Blocks.CompileUnit ID="2B" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v3">
  <Access Scope="LocalVariable" UId="21">
    <Symbol UId="22">
      <Component Name="sTag" UId="23" />
      <Token Text="." UId="24" />
      <Component Name="bOpenRequest" UId="25" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="26" />
  <Token Text=":=" UId="27" />
  <Blank Num="1" UId="28" />
  <Access Scope="LocalVariable" UId="29">
    <Symbol UId="30">
      <Component Name="OpenReq" UId="31" />
    </Symbol>
  </Access>
  <Token Text=";" UId="32" />
  <NewLine Num="1" UId="33" />
  <Access Scope="LocalVariable" UId="34">
    <Symbol UId="35">
      <Component Name="sTag" UId="36" />
      <Token Text="." UId="37" />
      <Component Name="bCloseRequest" UId="38" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="39" />
  <Token Text=":=" UId="40" />
  <Blank Num="1" UId="41" />
  <Access Scope="LocalVariable" UId="42">
    <Symbol UId="43">
      <Component Name="CloseReq" UId="44" />
    </Symbol>
  </Access>
  <Token Text=";" UId="45" />
  <NewLine Num="1" UId="46" />
  <Access Scope="LocalVariable" UId="47">
    <Symbol UId="48">
      <Component Name="sTag" UId="49" />
      <Token Text="." UId="50" />
      <Component Name="bOpenStatus" UId="51" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="52" />
  <Token Text=":=" UId="53" />
  <Blank Num="1" UId="54" />
  <Access Scope="LocalVariable" UId="55">
    <Symbol UId="56">
      <Component Name="bOpenStat" UId="57" />
    </Symbol>
  </Access>
  <Token Text=";" UId="58" />
  <NewLine Num="1" UId="59" />
  <Access Scope="LocalVariable" UId="60">
    <Symbol UId="61">
      <Component Name="sTag" UId="62" />
      <Token Text="." UId="63" />
      <Component Name="bClosedStatus" UId="64" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="65" />
  <Token Text=":=" UId="66" />
  <Blank Num="1" UId="67" />
  <Access Scope="LocalVariable" UId="68">
    <Symbol UId="69">
      <Component Name="bClosedStat" UId="70" />
    </Symbol>
  </Access>
  <Token Text=";" UId="71" />
  <NewLine Num="1" UId="72" />
  <Access Scope="LocalVariable" UId="73">
    <Symbol UId="74">
      <Component Name="sTag" UId="75" />
      <Token Text="." UId="76" />
      <Component Name="bOpenCommand" UId="77" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="78" />
  <Token Text=":=" UId="79" />
  <Blank Num="1" UId="80" />
  <Access Scope="LocalVariable" UId="81">
    <Symbol UId="82">
      <Component Name="bOpenCmd" UId="83" />
    </Symbol>
  </Access>
  <Token Text=";" UId="84" />
  <NewLine Num="1" UId="85" />
  <Access Scope="LocalVariable" UId="86">
    <Symbol UId="87">
      <Component Name="sTag" UId="88" />
      <Token Text="." UId="89" />
      <Component Name="bCloseCommand" UId="90" />
    </Symbol>
  </Access>
  <Blank Num="1" UId="91" />
  <Token Text=":=" UId="92" />
  <Blank Num="1" UId="93" />
  <Access Scope="LocalVariable" UId="94">
    <Symbol UId="95">
      <Component Name="bCloseCmd" UId="96" />
    </Symbol>
  </Access>
  <Token Text=";" UId="97" />
  <NewLine Num="2" UId="98" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="2C" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="2D" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="2E" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="2F" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text>Mirror in HMI</Text>
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <MultilingualText ID="30" CompositionName="Title">
        <ObjectList>
          <MultilingualTextItem ID="31" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text>Process valve control </Text>
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
    </ObjectList>
  </SW.Blocks.FB>
</Document>